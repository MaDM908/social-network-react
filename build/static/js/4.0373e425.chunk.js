(this["webpackJsonpmern-app"]=this["webpackJsonpmern-app"]||[]).push([[4],{230:function(t,e,c){"use strict";c.d(e,"b",(function(){return l})),c.d(e,"a",(function(){return b})),c.d(e,"c",(function(){return u}));var n=c(3),r=c(231),s=(c(0),c(113)),i=c(233),a=c.n(i),o=c(2),j=function(t){var e=Object.assign({},t),c=e.touched&&e.error;return Object(o.jsxs)("div",{className:c?a.a.formControl+" "+a.a.error:a.a.formControl,children:[e.children,c&&Object(o.jsx)("div",{className:a.a.formControl+" "+a.a.error,children:Object(o.jsx)("span",{children:e.error})})]})},l=function(t){var e=t.input,c=t.meta,s=Object(r.a)(t,["input","meta"]);return Object(o.jsx)(j,Object(n.a)(Object(n.a)({},c),{},{children:Object(o.jsx)("textarea",Object(n.a)(Object(n.a)({},e),s))}))},b=function(t){var e=t.input,c=t.meta,s=Object(r.a)(t,["input","meta"]);return Object(o.jsx)(j,Object(n.a)(Object(n.a)({},c),{},{children:Object(o.jsx)("input",Object(n.a)(Object(n.a)({},e),s))}))},u=function(t,e,c,n){return Object(o.jsx)(s.a,{placeholder:t,name:e,validate:c,type:arguments.length<=4?void 0:arguments[4],component:n})}},232:function(t,e,c){"use strict";c.d(e,"b",(function(){return n})),c.d(e,"a",(function(){return r}));var n=function(t){if(!t)return"Field is empty!"},r=function(t){return function(e){if(e&&e.length>t)return"Field is more than ".concat(t," symbols")}}},233:function(t,e,c){t.exports={formControl:"FormControls_formControl__1JQEi",error:"FormControls_error__f71V9"}},235:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var n=c(61);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var c=[],n=!0,r=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(c.push(i.value),!e||c.length!==e);n=!0);}catch(o){r=!0,s=o}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return c}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},241:function(t,e,c){"use strict";var n=c(3),r=c(38),s=c(39),i=c(41),a=c(40),o=c(0),j=c.n(o),l=c(21),b=c(2);e.a=function(t){return function(e){Object(i.a)(o,e);var c=Object(a.a)(o);function o(){return Object(r.a)(this,o),c.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){return this.props.isAuth||this.props.match.params.userId?Object(b.jsx)(t,Object(n.a)({},this.props)):Object(b.jsx)(l.Redirect,{to:"./login"})}}]),o}(j.a.Component)}},243:function(t,e,c){t.exports={content:"Profile_content__13i3q",form:"Profile_form__1uIDI",error:"Profile_error__shIUu",contact:"Profile_contact__6vx12",loader:"Profile_loader__3MoW3"}},257:function(t,e,c){t.exports={item:"Post_item__1ulhc"}},258:function(t,e,c){t.exports={content:"MyPosts_content__3gDj8"}},259:function(t,e,c){t.exports={avatar:"ProfileUser_avatar__2iZgC"}},305:function(t,e,c){"use strict";c.r(e);var n=c(3),r=c(38),s=c(39),i=c(41),a=c(40),o=c(0),j=c.n(o),l=c(23),b=c(76),u=c(235),d=(c(257),c(2)),O=(c(258),c(243)),h=c.n(O),f=c(259),p=c.n(f),x=function(t){var e=Object(o.useState)(!1),c=Object(u.a)(e,2),n=c[0],r=c[1];return Object(d.jsx)("div",{className:p.a.contentItem,children:Object(d.jsxs)("div",{className:p.a.avatar,children:[Object(d.jsx)("img",{src:t.photo,onMouseOver:function(t){r(!n)},alt:"Avatar"}),t.isOwner&&n&&Object(d.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])},onMouseLeave:function(t){r(!n)},className:p.a.fileButton})]})})},m=c(66),v=c(113),g=c(114),_=c(232),y=c(230),P=Object(_.a)(10),S=(Object(g.a)({form:"posts"})((function(t){return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(d.jsx)(v.a,{component:y.b,name:"newPostDesc",placeholder:"Add new post...",validate:[_.b,P]}),Object(d.jsx)("button",{children:"Add post"})]})})),function(t){var e=Object(o.useState)(!1),c=Object(u.a)(e,2),n=c[0],r=c[1],s=Object(o.useState)(t.status),i=Object(u.a)(s,2),a=i[0],j=i[1];Object(o.useEffect)((function(){j(t.status)}),[t.status]);return Object(d.jsxs)("div",{children:[n&&Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Status: "}),Object(d.jsx)("input",{onBlur:function(e){t.isOwner&&r(!1),t.status!==e.target.value&&t.updateStatus(a)},onChange:function(e){t.isOwner&&j(e.target.value)},autoFocus:!0,type:"Status",value:a})]}),!n&&Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Status: "}),Object(d.jsx)("span",{onDoubleClick:function(){t.isOwner&&r(!0)},children:a})]})]})}),w=function(t){return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(d.jsx)("button",{children:"Save"}),Object(d.jsx)("div",{children:t.error&&Object(d.jsx)("div",{className:h.a.form+" "+h.a.error,children:t.error})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Name: "}),Object(y.c)("","fullName",[],y.a,"text")]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About me: "}),Object(y.c)("","aboutMe",[],y.a,"text")]}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d: "}),Object(y.c)("","lookingForAJob",[],y.a,"checkbox"),Object(d.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"}),Object(y.c)("","lookingForAJobDescription",[],y.b,"")]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"facebook: "}),Object(y.c)("","contacts.facebook",[],y.a,"text")]}),Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"website: "}),Object(y.c)("","contacts.website",[],y.a,"text")]}),Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"vk: "}),Object(y.c)("","contacts.vk",[],y.a,"text")]}),Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"twitter: "}),Object(y.c)("","contacts.twitter",[],y.a,"text")]}),Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"instagram: "}),Object(y.c)("","contacts.instagram",[],y.a,"text")]}),Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"youtube: "}),Object(y.c)("","contacts.youtube",[],y.a,"text")]}),Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"github: "}),Object(y.c)("","contacts.github",[],y.a,"text")]}),Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:"mainLink: "}),Object(y.c)("","contacts.mainLink",[],y.a,"text")]})]})]})]})})},k=function(t){var e=Object(g.a)({form:"profileData",initialValues:Object(n.a)({},t.profile)})(w);return Object(d.jsx)(e,Object(n.a)({},t))},N=function(t){return Object.keys(t.contacts).map((function(e){return Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsxs)("b",{children:[e,": "]}),Object(d.jsx)("a",{href:"http://"+t.contacts[e],children:t.contacts[e]})]},e)}))},A=function(t){var e=Object(o.useState)(!1),c=Object(u.a)(e,2),r=c[0],s=c[1];return Object(d.jsxs)("div",{className:h.a.content,children:[Object(d.jsx)(x,{photo:null!==t.profile.photos.large?t.profile.photos.large:m.a,savePhoto:t.isOwner?t.savePhoto:null,updateStatus:t.isOwner?t.updateStatus:null,isOwner:t.isOwner}),t.error||r?Object(d.jsx)(k,Object(n.a)({onSubmit:function(e){console.log(e),t.editProfile(e).then((function(t){t&&s(!0),t||s(!1)}))}},t)):Object(d.jsxs)("div",{children:[t.isOwner&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){s(!0)},children:"Edit"})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Name: "}),Object(d.jsx)("span",{children:t.profile.fullName})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About me: "}),Object(d.jsx)("span",{children:t.profile.aboutMe})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d: "}),t.profile.lookingForAJob?Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"\u0414\u0430"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "}),Object(d.jsx)("p",{children:t.profile.lookingForAJobDescription})]})]}):Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:"\u041d\u0435\u0442"})})]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(d.jsx)("div",{children:Object(d.jsx)(N,{contacts:t.profile.contacts})})]})]}),Object(d.jsx)(S,{status:t.status,isOwner:t.isOwner,updateStatus:t.isOwner?t.updateStatus:null})]})},C=c(21),I=c(241),D=c(19),F=c(26),J=function(t){Object(i.a)(c,t);var e=Object(a.a)(c);function c(){return Object(r.a)(this,c),e.apply(this,arguments)}return Object(s.a)(c,[{key:"componentDidMount",value:function(){if(this.props.match.params.userId){var t=this.props.match.params.userId;this.props.getProfileData(t),this.props.getStatus(t)}else this.props.getProfileData(),this.props.getStatus()}},{key:"componentDidUpdate",value:function(t,e){null!==t.profile&&(t.profile.userId===this.props.authId||this.props.match.params.userId||(this.props.getProfileData(),this.props.getStatus()))}},{key:"render",value:function(){return null!==this.props.profile?Object(d.jsx)(A,Object(n.a)(Object(n.a)({},this.props),{},{isOwner:!this.props.match.params.userId})):Object(d.jsx)(F.a,{})}}]),c}(j.a.PureComponent);e.default=Object(D.d)(C.withRouter,Object(l.b)((function(t){return{posts:t.profilePage.posts,isFetching:t.profilePage.isFetching,profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authId:t.auth.id,error:t.profilePage.error}}),{addPost:b.a,getProfileData:b.d,getStatus:b.e,updateStatus:b.h,setUserProfile:b.g,savePhoto:b.f,editProfile:b.c}),I.a)(J)}}]);
//# sourceMappingURL=4.0373e425.chunk.js.map