{"version":3,"sources":["components/common/FormControls/FormControls.js","utils/validators/validators.js","components/common/FormControls/FormControls.module.css","components/hoc/withAuthComponent.jsx","components/Dialogs/Dialogs.module.css","components/Dialogs/AddDialogForm.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/MessageItem/MessageItem.jsx","components/Dialogs/AddDialogForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["FormArea","props","hasError","touched","error","className","s","formControl","children","TextArea","input","meta","Input","createField","placeholder","name","validate","component","type","required","value","maxLength","max","length","module","exports","withAuthRedirect","WrappedComponent","this","isAuth","match","params","userId","to","React","Component","DialogItem","path","id","d","dialog","src","icon","alt","Message","mi","from","message","maxLength50","reduxForm","form","formContainer","onSubmit","handleSubmit","Field","Dialogs","dialogs","users","map","u","messages","m","MessageItem","content","data","sentMessage","newMessageText","compose","withRouter","connect","state","dialogsPage","auth"],"mappings":"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","file":"static/js/5.fcaf5d2a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport s from './FormControls.module.css';\r\n\r\nconst FormArea = ({ ...props }) => {\r\n    const hasError = props.touched && props.error;\r\n    return <div className={hasError ? s.formControl + ' ' + s.error : s.formControl}>\r\n        {props.children}\r\n        {hasError && <div className={s.formControl + ' ' + s.error}><span>{props.error}</span></div>}\r\n    </div>;\r\n}\r\n\r\nexport const TextArea = ({ input, meta, ...props }) => {\r\n    return <FormArea {...meta}><textarea {...input} {...props}></textarea></FormArea>;\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    return <FormArea {...meta}><input {...input} {...props} /></FormArea>;\r\n};\r\n\r\n\r\nexport const createField = (placeholder, name, validate, component, ...restProps) => {\r\n    \r\n    return <Field placeholder={placeholder} name={name}\r\n        validate={validate} type={restProps[0]}\r\n        component={component} />\r\n};","\r\n\r\nexport const required = (value) => {\r\n    if(value) return undefined;\r\n    return \"Field is empty!\";\r\n};\r\n//Не понимаю, что не так...\r\nexport const maxLength = (max) => (value) => {\r\n\r\n    if(value && value.length > max) return `Field is more than ${max} symbols`;\r\n    return undefined;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1JQEi\",\"error\":\"FormControls_error__f71V9\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\n\r\nconst withAuthRedirect = (WrappedComponent) => {\r\n    return class AuthRedirectComponent extends React.Component {\r\n        render(){\r\n            if(!this.props.isAuth && !this.props.match.params.userId)\r\n                return <Redirect to={'./login'} />\r\n            return <WrappedComponent {...this.props}/>;\r\n        }\r\n    }\r\n};\r\n\r\nexport default withAuthRedirect;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__2i5Yd\",\"dialog\":\"Dialogs_dialog__2M5Rg\",\"messages\":\"Dialogs_messages__1mRZc\",\"mi\":\"Dialogs_mi__gtr0z\",\"from\":\"Dialogs_from__1sFVf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"AddDialogForm_formContainer__33FyV\"};","import React from 'react';\r\nimport d from './../Dialogs.module.css';\r\nimport { NavLink } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/Dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div className={d.dialog}><NavLink to={path}><img src={props.icon} alt=\"-ICON-\"/>{props.name}</NavLink></div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport d from './../Dialogs.module.css';\r\n\r\n//Поработать здесь и стейт для сообщений\r\n\r\n\r\nconst Message = (props) => {\r\n    return(\r\n        <div className={d.mi}><span className={d.from}>{props.message}</span><br/></div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLength, required } from '../../utils/validators/validators';\r\nimport { TextArea } from '../common/FormControls/FormControls';\r\nimport s from './AddDialogForm.module.css';\r\n\r\nconst maxLength50 = maxLength(50);\r\n\r\nconst AddDialogForm = (props) => {\r\n    return <div className={s.formContainer}>\r\n        <form onSubmit={props.handleSubmit}>\r\n           <Field component={TextArea} name=\"newMessageText\"\r\n            validate={[ required, maxLength50 ]} />\r\n            <div> <button>Sent</button></div>\r\n            \r\n           \r\n        </form>\r\n    </div>;\r\n}\r\n\r\nexport default reduxForm({ form: \"dialogs\" })(AddDialogForm);\r\n","import React from 'react';\r\nimport d from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport AddDialogForm from './AddDialogForm';\r\n\r\nconst Dialogs = (props) => {\r\n    \r\n    let dialogs = props.users.map(u => <DialogItem key={u.id} name={u.name} icon={u.icon} id={u.id} />);\r\n    let messages = props.messages.map(m => <MessageItem key={m.id} message={m.message} from={m.from} id={m.id} />);\r\n\r\n    let onSubmit = (data) => {\r\n        props.sentMessage(data.newMessageText);\r\n    };\r\n    //Поработать над стилизацией\r\n    //Непонятно как работать с bll у form ответ это не наша компетенция \r\n    //bll у form нужен только для работы с формами! (Ввод, передача данных и тд)\r\n    return (\r\n        <div className={d.content}>\r\n            <div className={d.dialogs}>\r\n                { dialogs }\r\n            </div>\r\n            <div className={d.messages}>\r\n                { messages }\r\n                <AddDialogForm onSubmit={onSubmit} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Dialogs;","import { sentMessage } from '../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport withAuthRedirect from '../hoc/withAuthComponent';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.dialogsPage.users,\r\n        messages: state.dialogsPage.messages,\r\n        isAuth: state.auth.isAuth\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {sentMessage}),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n\r\n"],"sourceRoot":""}