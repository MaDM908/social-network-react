(this["webpackJsonpmern-app"]=this["webpackJsonpmern-app"]||[]).push([[0],{136:function(e,t,n){e.exports={item:"Post_item__1ulhc"}},137:function(e,t,n){e.exports={content:"MyPosts_content__3gDj8"}},138:function(e,t,n){e.exports={content:"PreLoader_content__3lyh0"}},140:function(e,t,n){e.exports={content:"Anatomy_content__1KWha"}},141:function(e,t,n){e.exports={content:"Nutrition_content__1e9yN"}},142:function(e,t,n){e.exports={formContainer:"AddDialogForm_formContainer__33FyV"}},251:function(e,t,n){},28:function(e,t,n){e.exports={content:"Users_content__20gHk",selectedPage:"Users_selectedPage__3Icho",unselectedPage:"Users_unselectedPage__2sLMl",user:"Users_user__3nLLk",label:"Users_label__1GjDc",location:"Users_location__1IhUl",follow:"Users_follow__sJSch",photo:"Users_photo__2r5wt"}},298:function(e,t,n){"use strict";n.r(t),n.d(t,"rerenderfunc",(function(){return qt}));var r=n(9),s=n(10),a=n.n(s),i=n(18),c=n(3),o=n(39),u=n(132).create({withCredentials:!0,headers:{"API-KEY":"5bd1aa5f-e4f4-4a73-b64e-a45038a0363e"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),l=function(e,t){return u.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},d=function(e){return u.delete("follow/".concat(e)).then((function(e){return e.data}))},j=function(e){return u.post("follow/".concat(e),{}).then((function(e){return e.data}))},f=function(e){return console.warn("Obsolete method, use profileAPI object instead..."),p.getProfile(e)},p={getProfile:function(e){return u.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return u.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return u.put("profile/status/",{status:e}).then((function(e){return e}))}},b=function(){return u.get("auth/me").then((function(e){return e.data}))},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},m=function(){return u.delete("auth/login").then((function(e){return e.data}))},O="SET-AUTH-USER",g="TOOGLE-FETCHING",x="SET-ICON",v={id:null,email:null,login:null,isAuth:!1,isFetching:!1,icon:null},_=function(e){return{type:g,value:e}},w=function(e){return{type:x,icon:e}},P=function(e,t,n,r){return{type:O,payload:{id:e,email:n,login:t,isAuth:r}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(c.a)(Object(c.a)({},e),t.payload);case g:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.value});case x:return Object(c.a)(Object(c.a)({},e),{},{icon:t.icon});default:return e}},N=n(29),k="SENT-MESSAGE",F={users:[{name:"Andrew",icon:"https://yt3.ggpht.com/a/AATXAJzAHhyPZnJbtmEHrBQtnofAowi0xNFx8Dm3Y-BMSg=s900-c-k-c0x00ffffff-no-rj",id:"1"},{name:"Kara",icon:"https://im0-tub-ru.yandex.net/i?id=a111ed14b4226f606db1b6a737108c9f&n=13",id:"2"},{name:"John",icon:"https://yt3.ggpht.com/a/AATXAJy5Tg5bm6ohLZ9-tPZKsAysR7A3Ew1HTZGPyQ=s900-c-k-c0xffffffff-no-rj-mo",id:"3"},{name:"Michael",icon:"https://static10.tgstat.ru/channels/_0/f6/f6daf6dd47c2d24c45c74a1759f183c9.jpg",id:"4"},{name:"Bob",icon:"https://image.freepik.com/free-vector/male-character-social-network-concept_24877-17895.jpg",id:"5"},{name:"Arika",icon:"https://st2.depositphotos.com/9223672/12056/v/950/depositphotos_120568222-stock-illustration-%D0%B6%D0%B5%D0%BD%D1%81%D0%BA%D0%BE%D0%B5-%D0%BB%D0%B8%D1%86%D0%BE-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80-%D0%BA%D1%80%D1%83%D0%B3%D0%BB%D1%8B%D0%B9-%D0%BF%D0%BB%D0%BE%D1%81%D0%BA%D0%B8%D0%B9.jpg",id:"6"}],messages:[{message:"Hi!",from:"me",id:"1"},{message:"How are you?",from:"user",id:"2"},{message:"Are you there?",from:"user",id:"3"}]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n={};return""!==t.newMessageText?(n={message:t.newMessageText,from:"me",id:4},Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(N.a)(e.messages),[n])})):e;default:return e}},S="ADD-POST",C="SET-USER-PROFILE",T="TOOGLE-FETCHING",A="SET-STATUS",E="SET-AUTH-ID",I={posts:[{name:"Phenomenal supplement",likes:"21",id:"1"},{name:"Excuse me!",likes:"34",id:"2"},{name:"Hello there!",likes:"3",id:"3"}],isFetching:!1,profile:null,status:"",authId:null},U=function(e){return{type:C,profile:e}},B=function(e){return{type:T,value:e}},L=function(e){return{type:A,status:e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n={};return n=""!==t.newPostText?{name:t.newPostText,likes:0,id:4}:{name:"Empty post",likes:0,id:4},Object(c.a)(Object(c.a)({},e),{},{posts:[].concat(Object(N.a)(e.posts),[n]),newPostText:""});case C:return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case T:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.value});case A:return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case E:return Object(c.a)(Object(c.a)({},e),{},{authId:t.id});default:return e}},R="NEW-FRIEND-TEXT",z="UPDATE-FRIEND-TEXT",H={links:[{to:"/Profile",name:"Profile",id:"1"},{to:"/Dialogs",name:"Dialogs",id:"2"},{to:"/Users",name:"Users",id:"3"},{to:"/Anatomy",name:"Anatomy",id:"4"},{to:"/Nutrition",name:"Nutrition",id:"5"}],friends:[{name:"Andrew",online:!0,id:"1"},{name:"Kevin",online:!1,id:"2"},{name:"Elwin",online:!0,id:"3"},{name:"TEst",online:!0,id:"4"}],newFriendText:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:var n={};if(""!==e.newFriendText)return n={name:e.newFriendText,online:!1,id:5},Object(c.a)(Object(c.a)({},e),{},{friends:[].concat(Object(N.a)(e.friends),[n]),newFriendText:""});case z:return Object(c.a)(Object(c.a)({},e),{},{newFriendText:t.text});default:return e}},J="FOLLOW-USER",W="UNFOLLOW-USER",Z="SET-USERS",K="SET-CURRENT-PAGE",V="SET-TOTAL-USERS",Y="TOOGLE-FETCHING",X="TOOGLE-FOLLOWING",Q={users:[],pageSize:5,usersCount:21,currentPage:1,isFetching:!1,inFollowingProcess:[]},q=function(e,t,n){return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id&&(e.followed=n),e}))})},$=function(e){return{type:J,id:e}},ee=function(e){return{type:W,id:e}},te=function(e){return{type:Z,users:e}},ne=function(e){return{type:Y,value:e}},re=function(e,t){return{type:X,isFetching:e,userId:t}},se=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(re(!0,r)),e.next=3,t(r);case 3:0===e.sent.resultCode?(s(n(r)),s(re(!1,r))):s(re(!1,r));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return q(e,t,!0);case W:return q(e,t,!1);case Z:return Object(c.a)(Object(c.a)({},e),{},{users:Object(N.a)(t.users)});case K:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case V:return Object(c.a)(Object(c.a)({},e),{},{usersCount:t.usersCount});case Y:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.value});case X:return Object(c.a)(Object(c.a)({},e),{},{inFollowingProcess:t.isFetching?[].concat(Object(N.a)(e.inFollowingProcess),[t.userId]):e.inFollowingProcess.filter((function(e){return e!==t.userId}))});default:return e}},ie=n(133),ce=n(131),oe="SET-INITIALIZED",ue={initialized:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(c.a)(Object(c.a)({},e),{},{initialized:!0});default:return e}},de=Object(r.c)({profilePage:M,dialogsPage:D,usersPage:ae,sidebar:G,auth:y,app:le,form:ce.a}),je=Object(r.e)(de,Object(r.a)(ie.a));window.store=je;var fe=je,pe=n(1),be=n.n(pe),he=n(68),me=n.n(he),Oe=n(24),ge=n(25),xe=n(27),ve=n(26),_e=(n(251),n(12)),we=n(136),Pe=n.n(we),ye=n(0),Ne=function(e){return Object(ye.jsxs)("div",{className:Pe.a.item,children:[Object(ye.jsxs)("div",{children:[Object(ye.jsx)("img",{src:"https://www.flaticon.com/premium-icon/icons/svg/3629/3629832.svg",alt:""}),e.id,": ",e.name]}),Object(ye.jsxs)("div",{children:["Likes: ",e.likes]})]})},ke=n(137),Fe=n.n(ke),De=function(e){var t=e.posts.map((function(e){return Object(ye.jsx)(Ne,{name:e.name,likes:e.likes,id:e.id},e.id)}));return Object(ye.jsx)("div",{className:Fe.a.content,children:t})},Se=n(59),Ce=n.n(Se),Te=n(74),Ae=n.n(Te),Ee=n(99),Ie=function(e){var t=Object(pe.useState)(!1),n=Object(Ee.a)(t,2),r=n[0],s=n[1],a=Object(pe.useState)(e.status),i=Object(Ee.a)(a,2),c=i[0],o=i[1];Object(pe.useEffect)((function(){o(e.status)}),[e.status]);return Object(ye.jsxs)("div",{children:[r&&Object(ye.jsx)("div",{children:Object(ye.jsx)("input",{onBlur:function(t){s(!1),e.status!==t.target.value&&e.updateStatus(c)},onChange:function(e){o(e.target.value)},autoFocus:!0,type:"Status",value:c})}),!r&&Object(ye.jsx)("div",{children:Object(ye.jsx)("span",{onDoubleClick:function(){s(!0)},children:c})})]})},Ue=function(e){return Object(ye.jsxs)("div",{className:Ae.a.contentItem,children:[Object(ye.jsx)("div",{className:Ae.a.img,children:e.photo?Object(ye.jsx)("img",{src:e.photo,alt:""}):Object(ye.jsx)("img",{src:"https://image.freepik.com/free-vector/machine-warrior-e-sports-logo-design-machine-warrior-gaming-mascot-twitch-profile_74154-43.jpg",alt:""})}),Object(ye.jsxs)("div",{classname:Ae.a.status,children:["Name: ",Object(ye.jsx)("p",{children:e.name})," About me: ",e.status?Object(ye.jsx)(Ie,{status:e.status,updateStatus:e.updateStatus}):e.aboutMe?Object(ye.jsx)("p",{children:e.aboutMe}):Object(ye.jsx)("p",{children:"No information"})]})]})},Be=n.p+"static/media/userUnknown.7e83c150.jpg",Le=n(129),Me=n(130),Re=function(e){if(!e)return"Field is empty!"},ze=function(e){return function(t){if(t&&t.length>e)return"Field is more than ".concat(e," symbols")}},He=n(58),Ge=n(43),Je=n.n(Ge),We=function(e){var t=Object.assign({},e),n=t.touched&&t.error;return Object(ye.jsxs)("div",{className:n?Je.a.formControl+" "+Je.a.error:Je.a.formControl,children:[t.children,n&&Object(ye.jsx)("div",{className:Je.a.formControl+" "+Je.a.error,children:Object(ye.jsx)("span",{children:t.error})})]})},Ze=function(e){var t=e.input,n=e.meta,r=Object(He.a)(e,["input","meta"]);return Object(ye.jsx)(We,Object(c.a)(Object(c.a)({},n),{},{children:Object(ye.jsx)("textarea",Object(c.a)(Object(c.a)({},t),r))}))},Ke=function(e){var t=e.input,n=e.meta,r=Object(He.a)(e,["input","meta"]);return Object(ye.jsx)(We,Object(c.a)(Object(c.a)({},n),{},{children:Object(ye.jsx)("input",Object(c.a)(Object(c.a)({},t),r))}))},Ve=ze(10),Ye=Object(Me.a)({form:"posts"})((function(e){return Object(ye.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(ye.jsx)(Le.a,{component:Ze,name:"newPostDesc",placeholder:"Add new post...",validate:[Re,Ve]}),Object(ye.jsx)("button",{children:"Add post"})]})})),Xe=function(e){if(e.id)return Object(ye.jsxs)("div",{className:Ce.a.content,children:[Object(ye.jsx)(Ue,{name:e.profile.fullName,aboutMe:e.profile.aboutMe,photo:null!==e.profile.photos.large?e.profile.photos.large:Be,id:e.id}),Object(ye.jsxs)("div",{children:["\u0420\u0430\u0431\u043e\u0442\u0430:",e.profile.lookingForAJob?Object(ye.jsx)("span",{children:"\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d"}):Object(ye.jsx)("span",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),Object(ye.jsx)("p",{children:e.profile.lookingForAJobDescription})]}),Object(ye.jsxs)("div",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:",e.profile.contacts?e.contacts.map((function(e){return Object(ye.jsx)("a",{className:Ce.a.contact,href:"https://"+e,children:e})})):Object(ye.jsx)("p",{children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"})]})]});return Object(ye.jsxs)("div",{className:Ce.a.content,children:[Object(ye.jsx)("div",{className:Ce.a.profileInfo,children:Object(ye.jsx)(Ue,{name:e.profile.fullName,status:e.status,updateStatus:e.updateStatus})}),Object(ye.jsx)(Ye,{onSubmit:function(t){e.addPost(t.newPostDesc)}}),Object(ye.jsx)("div",{children:Object(ye.jsx)(De,{posts:e.posts})})]})},Qe=n(14),qe=function(e){return function(t){Object(xe.a)(r,t);var n=Object(ve.a)(r);function r(){return Object(Oe.a)(this,r),n.apply(this,arguments)}return Object(ge.a)(r,[{key:"render",value:function(){return this.props.isAuth||this.props.match.params.userId?Object(ye.jsx)(e,Object(c.a)({},this.props)):Object(ye.jsx)(Qe.Redirect,{to:"./login"})}}]),r}(be.a.Component)},$e=n.p+"static/media/preLoader.a74b50f6.gif",et=n(138),tt=n.n(et),nt=function(e){return Object(ye.jsx)("div",{className:tt.a.content,children:Object(ye.jsx)("img",{src:$e,alt:"Loader"})})},rt=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){return Object(Oe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){if(this.props.match.params.userId){var e=this.props.match.params.userId;this.props.getProfileData(e),this.props.getStatus(e)}else this.props.getProfileData(),this.props.getStatus()}},{key:"componentDidUpdate",value:function(e,t){null!==e.profile&&(e.profile.userId===this.props.authId||this.props.match.params.userId||(this.props.getProfileData(),this.props.getStatus()))}},{key:"render",value:function(){if(null!==this.props.profile){if(this.props.match.params.userId){var e=[];for(var t in this.props.profile.contacts)if(null!==this.props.profile.contacts[t]&&""!==this.props.profile.contacts[t]){var n=this.props.profile.contacts[t];e.push(n)}return Object(ye.jsx)(Xe,Object(c.a)(Object(c.a)({},this.props),{},{contacts:e,id:this.props.match.params.userId}))}return Object(ye.jsx)(Xe,Object(c.a)(Object(c.a)({},this.props),{},{id:null}))}return Object(ye.jsx)(nt,{})}}]),n}(be.a.PureComponent),st=Object(r.d)(Qe.withRouter,Object(_e.b)((function(e){return{posts:e.profilePage.posts,isFetching:e.profilePage.isFetching,profile:e.profilePage.profile,isAuth:e.auth.isAuth,status:e.profilePage.status,authId:e.profilePage.authId}}),{addPost:function(e){return{type:S,newPostText:e}},getProfileData:function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var r,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}return n(B(!0)),t.next=4,f(e);case 4:r=t.sent,n(U(r)),n(B(!1)),t.next=23;break;case 9:return n(B(!0)),t.next=12,b();case 12:if(0!==(s=t.sent).resultCode){t.next=22;break}return t.next=16,f(s.data.id);case 16:i=t.sent,n((a=i.userId,{type:E,id:a})),n(U(i)),n(B(!1)),t.next=23;break;case 22:n(B(!1));case 23:case 24:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var r,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,p.getStatus(e);case 3:r=t.sent,n(L(r)),t.next=15;break;case 7:return t.next=9,b();case 9:if(0!==(s=t.sent).resultCode){t.next=15;break}return t.next=13,p.getStatus(s.data.id);case 13:i=t.sent,n(L(i));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.updateStatus(e);case 2:0===t.sent.resultCode&&n(L(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserProfile:U}),qe)(rt),at=n(28),it=n.n(at),ct=n(73),ot=function(e){var t=e.u,n=Object(He.a)(e,["u"]);return Object(ye.jsxs)("span",{className:it.a.user,children:[Object(ye.jsxs)("span",{children:[Object(ye.jsx)(ct.b,{to:"/Profile/".concat(t.id),children:Object(ye.jsx)("div",{children:Object(ye.jsx)("img",{className:it.a.photo,src:null!==t.photos.small?t.photos.small:"https://w7.pngwing.com/pngs/911/1005/png-transparent-ninja-computer-icons-avatar-samurai-ninja-cartoon-desktop-wallpaper-mix.png",alt:"icon"})})}),Object(ye.jsx)("div",{className:it.a.follow,children:t.followed?Object(ye.jsx)("button",{disabled:n.inFollowingProcess.some((function(e){return e===t.id})),onClick:function(){n.unfollow(t.id)},children:"unfollow"}):Object(ye.jsx)("button",{disabled:n.inFollowingProcess.some((function(e){return e===t.id})),onClick:function(){n.follow(t.id)},children:"follow"})})]}),Object(ye.jsxs)("span",{className:it.a.label,children:[Object(ye.jsxs)("span",{children:[Object(ye.jsx)("div",{children:t.name}),Object(ye.jsx)("div",{children:t.status?t.status:"No status yet"})]}),Object(ye.jsxs)("span",{className:it.a.location,children:[Object(ye.jsx)("div",{children:t.locationCountry?t.locationCountry:"World"}),Object(ye.jsx)("div",{children:t.locationCity?t.locationCity:"Unknown city"})]})]})]},t.id)},ut=function(e){for(var t=[],n=Math.ceil(e.usersCount/e.pageSize),r=1;r<=n;r++)t.push(r);return Object(ye.jsxs)("div",{className:it.a.content,children:[Object(ye.jsx)("div",{children:t.map((function(t){return Object(ye.jsx)("span",{onClick:function(n){e.onPageChanger(t)},className:e.currentPage===t?it.a.selectedPage:it.a.unselectedPage,children:t},t)}))}),Object(ye.jsx)("div",{children:e.users.map((function(t){return Object(ye.jsx)(ot,Object(c.a)({u:t},e))}))})]})},lt=n(139),dt=Object(lt.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),jt=function(e){return e.usersPage.pageSize},ft=function(e){return e.usersPage.usersCount},pt=function(e){return e.usersPage.currentPage},bt=function(e){return e.usersPage.isFetching},ht=function(e){return e.usersPage.inFollowingProcess},mt=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(Oe.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanger=function(t){e.props.changePage(t,e.pageSize)},e}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.props.receiveUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e=Object(c.a)({},this.props),t=e.users,n=e.pageSize,r=e.usersCount,s=e.currentPage,a=e.inFollowingProcess,i=e.follow,o=e.unfollow;return Object(ye.jsx)(ye.Fragment,{children:this.props.isFetching?Object(ye.jsx)(nt,{}):Object(ye.jsx)(ut,{users:t,onPageChanger:this.onPageChanger,usersCount:r,pageSize:n,currentPage:s,unfollow:o,follow:i,inFollowingProcess:a})})}}]),n}(be.a.PureComponent),Ot=Object(_e.b)((function(e){return{users:dt(e),pageSize:jt(e),usersCount:ft(e),currentPage:pt(e),isFetching:bt(e),inFollowingProcess:ht(e)}}),{receiveUsers:function(e,t){return function(){var n=Object(i.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ne(!0)),n.next=3,l(e,t);case 3:s=n.sent,r(te(s.items)),r((a=s.totalCount<100?s.totalCount:100,{type:V,usersCount:a})),r(ne(!1));case 7:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},changePage:function(e,t){return function(){var n=Object(i.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ne(!0)),r({type:K,currentPage:e}),n.next=4,l(e,t);case 4:s=n.sent,r(te(s.items)),r(ne(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:se(j,$,e,n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(t){se(d,ee,e,t)}}})(mt),gt=n(140),xt=n.n(gt),vt=function(e){return Object(ye.jsx)("div",{className:xt.a.content,children:"Anatomy news"})},_t=n(141),wt=n.n(_t),Pt=function(e){return Object(ye.jsx)("div",{className:wt.a.content,children:"Nutrition news"})},yt=n(11),Nt=n(30),kt=n.n(Nt),Ft=function(e){var t="/Dialogs/"+e.id;return Object(ye.jsx)("div",{className:kt.a.dialog,children:Object(ye.jsxs)(Qe.NavLink,{to:t,children:[Object(ye.jsx)("img",{src:e.icon,alt:"-ICON-"}),e.name]})})},Dt=function(e){return Object(ye.jsxs)("div",{className:kt.a.mi,children:[Object(ye.jsx)("span",{className:kt.a.from,children:e.message}),Object(ye.jsx)("br",{})]})},St=n(142),Ct=n.n(St),Tt=ze(50),At=Object(Me.a)({form:"dialogs"})((function(e){return Object(ye.jsx)("div",{className:Ct.a.formContainer,children:Object(ye.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(ye.jsx)(Le.a,{component:Ze,name:"newMessageText",validate:[Re,Tt]}),Object(ye.jsxs)("div",{children:[" ",Object(ye.jsx)("button",{children:"Sent"})]})]})})})),Et=function(e){var t=e.users.map((function(e){return Object(ye.jsx)(Ft,{name:e.name,icon:e.icon,id:e.id},e.id)})),n=e.messages.map((function(e){return Object(ye.jsx)(Dt,{message:e.message,from:e.from,id:e.id},e.id)}));return Object(ye.jsxs)("div",{className:kt.a.content,children:[Object(ye.jsx)("div",{className:kt.a.dialogs,children:t}),Object(ye.jsxs)("div",{className:kt.a.messages,children:[n,Object(ye.jsx)(At,{onSubmit:function(t){e.sentMessage(t.newMessageText)}})]})]})},It=Object(r.d)(Qe.withRouter,Object(_e.b)((function(e){return{users:e.dialogsPage.users,messages:e.dialogsPage.messages,isAuth:e.auth.isAuth}}),{sentMessage:function(e){return{type:k,newMessageText:e}}}),qe)(Et),Ut=n(44),Bt=n.n(Ut),Lt=function(e){var t=e.links.map((function(e){return Object(ye.jsx)(Qe.NavLink,{to:e.to,children:e.name},e.id)})),n=e.friends.map((function(e){return e.online?Object(ye.jsx)("span",{className:Bt.a.online,children:e.name},e.id):Object(ye.jsx)("span",{className:Bt.a.offline,children:e.name},e.id)}));return Object(ye.jsxs)("nav",{className:Bt.a.item,children:[t,Object(ye.jsx)("div",{children:Object(ye.jsx)("span",{children:"Friends"})}),Object(ye.jsx)("div",{className:Bt.a.friends,children:n}),Object(ye.jsxs)("div",{className:Bt.a.addFriend,children:[Object(ye.jsx)("textarea",{placeholder:"Add new friend...",onChange:function(t){e.updateFriend(t.target.value)},value:e.newFriendText}),Object(ye.jsx)("button",{onClick:function(){e.addFriend()},children:"Add friend"})]})]})},Mt=Object(_e.b)((function(e){return{links:e.sidebar.links,friends:e.sidebar.friends,newFriendText:e.sidebar.newFriendText}}),(function(e){return{addFriend:function(){e({type:R})},updateFriend:function(t){e({type:z,text:t})}}}))(Lt),Rt=n(45),zt=n.n(Rt),Ht=n.p+"static/media/icon.693ae2b4.jpg",Gt=function(e){return e.isFetching?Object(ye.jsxs)("div",{className:zt.a.item,children:[Object(ye.jsx)("img",{src:Ht,alt:""}),Object(ye.jsx)("div",{className:zt.a.auth,children:Object(ye.jsx)(nt,{className:zt.a.loader})})]}):Object(ye.jsxs)("div",{className:zt.a.item,children:[Object(ye.jsx)("img",{src:Ht,alt:""}),Object(ye.jsxs)("div",{className:zt.a.auth,children:[Object(ye.jsx)("div",{children:e.isAuth?Object(ye.jsxs)("div",{children:[Object(ye.jsx)("span",{children:e.login}),Object(ye.jsx)("button",{onClick:e.logoutThunk,children:"Logout"})]}):Object(ye.jsx)(Qe.NavLink,{to:"./login",children:"LOGIN"})}),Object(ye.jsx)("div",{children:null!==e.icon?Object(ye.jsx)("img",{src:e.icon,alt:"icon"}):Object(ye.jsx)("img",{src:"https://data.whicdn.com/images/335116356/original.jpg?t=1568158252",alt:"icon"})})]})]})},Jt=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){return Object(Oe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return Object(ye.jsx)(Gt,Object(c.a)({},this.props))}}]),n}(be.a.Component),Wt=Object(_e.b)((function(e){return{login:e.auth.login,isFetching:e.auth.isFetching,isAuth:e.auth.isAuth,icon:e.auth.icon}}),{logoutThunk:function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0)),e.next=3,m();case 3:0===e.sent.resultCode?(t(P(null,null,null,!1)),t(_(!1))):t(_(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Jt),Zt=n(46),Kt=n.n(Zt),Vt=Object(Me.a)({form:"login"})((function(e){return Object(ye.jsx)("div",{children:Object(ye.jsxs)("form",{onSubmit:e.handleSubmit,className:Kt.a.form,children:[Object(ye.jsx)(Le.a,{component:Ke,placeholder:"Email...",type:"text",name:"email",validate:[Re]}),Object(ye.jsx)(Le.a,{component:Ke,placeholder:"Password...",type:"text",name:"password",validate:[Re]}),Object(ye.jsx)("span",{children:"Remember me"}),Object(ye.jsx)(Le.a,{component:Ke,type:"checkbox",name:"rememberMe"}),e.error&&Object(ye.jsx)("div",{className:Kt.a.form+" "+Kt.a.error,children:e.error}),Object(ye.jsx)("div",{children:Object(ye.jsx)("button",{children:"Sign In"})})]})})})),Yt=Object(_e.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunk:function(e,t,n){return function(){var n=Object(i.a)(a.a.mark((function n(r){var s,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(!0)),n.next=3,h(e,t,!1);case 3:if(0!==(s=n.sent).resultCode){n.next=11;break}return n.next=7,b();case 7:0===(i=n.sent).resultCode?(r(P(i.data.id,i.data.login,i.data.email,!0)),r(_(!1))):r(_(!1)),n.next=13;break;case 11:r(Object(o.a)("login",{_error:s.messages?s.messages[0]:"Something wrong!"})),r(_(!1));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(ye.jsx)(Qe.Redirect,{to:"/Profile"}):Object(ye.jsxs)("div",{className:Kt.a.content,children:[Object(ye.jsx)("div",{className:Kt.a.title,children:"Login"}),Object(ye.jsx)(Vt,{onSubmit:function(t){e.loginThunk(t.email,t.password,t.rememberMe)}})]})})),Xt=function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(){return Object(Oe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.props.initializingProcess()}},{key:"render",value:function(){return this.props.initialized?Object(ye.jsx)(ct.a,{children:Object(ye.jsxs)("div",{className:"app-wrapper",children:[Object(ye.jsx)(Wt,{}),Object(ye.jsx)(Mt,{}),Object(ye.jsxs)("div",{className:"app-wrapper-content",children:[Object(ye.jsx)(yt.Route,{exact:!0,path:"/Profile/:userId?",render:function(){return Object(ye.jsx)(st,{})}}),Object(ye.jsx)(yt.Route,{path:"/Dialogs",render:function(){return Object(ye.jsx)(It,{})}}),Object(ye.jsx)(yt.Route,{path:"/Users",render:function(){return Object(ye.jsx)(Ot,{})}}),Object(ye.jsx)(yt.Route,{path:"/Anatomy",component:vt}),Object(ye.jsx)(yt.Route,{path:"/Nutrition",component:Pt}),Object(ye.jsx)(yt.Route,{exact:!0,path:"/login",render:function(){return Object(ye.jsx)(Yt,{})}})]})]})}):Object(ye.jsx)(nt,{})}}]),n}(pe.Component),Qt=Object(_e.b)((function(e){return{initialized:e.app.initialized}}),{initializingProcess:function(){return function(e){Promise.all([e(function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(!0)),e.next=3,b();case 3:0===(n=e.sent).resultCode?(t(P(n.data.id,n.data.login,n.data.email,!0)),f(n.data.id).then((function(e){t(w(e.photos.small)),t(_(!1))}))):t(_(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())]).then((function(){e({type:oe})}))}}})(Xt),qt=function(e){me.a.render(Object(ye.jsx)(_e.a,{store:fe,children:Object(ye.jsx)(Qt,{})}),document.getElementById("root"))};qt()},30:function(e,t,n){e.exports={content:"Dialogs_content__2i5Yd",dialog:"Dialogs_dialog__2M5Rg",messages:"Dialogs_messages__1mRZc",mi:"Dialogs_mi__gtr0z",from:"Dialogs_from__1sFVf"}},43:function(e,t,n){e.exports={formControl:"FormControls_formControl__1JQEi",error:"FormControls_error__f71V9"}},44:function(e,t,n){e.exports={item:"Navbar_item__9VWYI",friends:"Navbar_friends__2fJCK",online:"Navbar_online__1MeYc",addFriend:"Navbar_addFriend__3eZOc",offline:"Navbar_offline__2l5Vk"}},45:function(e,t,n){e.exports={item:"Header_item__3sOfW",auth:"Header_auth__33lFf",loader:"Header_loader__3zrhb"}},46:function(e,t,n){e.exports={content:"Login_content__37FgI",form:"Login_form__2jdhr",error:"Login_error__AV455",title:"Login_title__2xSGI"}},59:function(e,t,n){e.exports={content:"Profile_content__13i3q",contact:"Profile_contact__6vx12",loader:"Profile_loader__3MoW3"}},74:function(e,t,n){e.exports={img:"ProfileUser_img__3faCo",contentItem:"ProfileUser_contentItem__1rqIz"}}},[[298,1,2]]]);
//# sourceMappingURL=main.c257e0d8.chunk.js.map