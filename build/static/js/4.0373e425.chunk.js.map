{"version":3,"sources":["components/common/FormControls/FormControls.js","utils/validators/validators.js","components/common/FormControls/FormControls.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/hoc/withAuthComponent.jsx","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/ProfileUser/ProfileUser.module.css","components/Profile/ProfileUser/ProfileUser.jsx","components/Profile/AddPostForm.jsx","components/Profile/ProfileStatusHooked.jsx","components/Profile/ProfileDataForm.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["FormArea","props","hasError","touched","error","className","s","formControl","children","TextArea","input","meta","Input","createField","placeholder","name","validate","component","type","required","value","maxLength","max","length","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","withAuthRedirect","WrappedComponent","this","isAuth","match","params","userId","to","React","Component","ProfileUser","useState","mode","setMode","p","contentItem","avatar","src","photo","onMouseOver","e","alt","isOwner","onChange","target","files","savePhoto","onMouseLeave","fileButton","maxLength10","ProfileStatusHooked","reduxForm","form","onSubmit","handleSubmit","Field","editMode","setEditMode","status","setStatus","useEffect","onBlur","updateStatus","autoFocus","onDoubleClick","ProfileDataForm","contact","Wrapper","ProfileDataReduxForm","initialValues","profile","Contacts","keys","contacts","map","key","href","Profile","content","photos","large","unknown","data","console","log","editProfile","then","res","onClick","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","ProfileContainer","id","getProfileData","getStatus","prevProps","prevState","authId","PreLoader","PureComponent","compose","withRouter","connect","state","posts","profilePage","isFetching","auth","addPost","setUserProfile"],"mappings":"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","file":"static/js/4.0373e425.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport s from './FormControls.module.css';\r\n\r\nconst FormArea = ({ ...props }) => {\r\n    const hasError = props.touched && props.error;\r\n    return <div className={hasError ? s.formControl + ' ' + s.error : s.formControl}>\r\n        {props.children}\r\n        {hasError && <div className={s.formControl + ' ' + s.error}><span>{props.error}</span></div>}\r\n    </div>;\r\n}\r\n\r\nexport const TextArea = ({ input, meta, ...props }) => {\r\n    return <FormArea {...meta}><textarea {...input} {...props}></textarea></FormArea>;\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    return <FormArea {...meta}><input {...input} {...props} /></FormArea>;\r\n};\r\n\r\n\r\nexport const createField = (placeholder, name, validate, component, ...restProps) => {\r\n    \r\n    return <Field placeholder={placeholder} name={name}\r\n        validate={validate} type={restProps[0]}\r\n        component={component} />\r\n};","\r\n\r\nexport const required = (value) => {\r\n    if(value) return undefined;\r\n    return \"Field is empty!\";\r\n};\r\n//Не понимаю, что не так...\r\nexport const maxLength = (max) => (value) => {\r\n\r\n    if(value && value.length > max) return `Field is more than ${max} symbols`;\r\n    return undefined;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1JQEi\",\"error\":\"FormControls_error__f71V9\"};","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\r\nimport { Redirect } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\n\r\nconst withAuthRedirect = (WrappedComponent) => {\r\n    return class AuthRedirectComponent extends React.Component {\r\n        render(){\r\n            if(!this.props.isAuth && !this.props.match.params.userId)\r\n                return <Redirect to={'./login'} />\r\n            return <WrappedComponent {...this.props}/>;\r\n        }\r\n    }\r\n};\r\n\r\nexport default withAuthRedirect;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__13i3q\",\"form\":\"Profile_form__1uIDI\",\"error\":\"Profile_error__shIUu\",\"contact\":\"Profile_contact__6vx12\",\"loader\":\"Profile_loader__3MoW3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1ulhc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__3gDj8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"ProfileUser_avatar__2iZgC\"};","import React, { useState } from 'react';\r\nimport p from './ProfileUser.module.css';\r\n\r\n\r\nconst ProfileUser = (props) => {\r\n    const avatarHandler = (e) => {\r\n        \r\n        if(e.target.files.length)\r\n            props.savePhoto(e.target.files[0]);\r\n    };\r\n\r\n\r\n    const [mode, setMode] = useState(false);\r\n    const turnMode = (e) => {\r\n        setMode(!mode);\r\n    };\r\n    const disableMode = (e) => {\r\n        setMode(!mode)\r\n    };\r\n\r\n    return (\r\n        <div className={p.contentItem}>\r\n        <div className={p.avatar}>\r\n        <img src={props.photo} onMouseOver={turnMode}  alt=\"Avatar\" />\r\n        {props.isOwner && mode &&     \r\n            <input type=\"file\" onChange={avatarHandler} onMouseLeave={disableMode} className={p.fileButton}/>\r\n        }\r\n        </div>             \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileUser;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLength, required } from '../../utils/validators/validators';\r\nimport { TextArea } from '../common/FormControls/FormControls';\r\n\r\nconst maxLength10 = maxLength(10);\r\n\r\nconst AddPostForm = (props) => {\r\n    \r\n    return <form onSubmit={ props.handleSubmit }>\r\n    <Field component={TextArea} name=\"newPostDesc\" \r\n    placeholder=\"Add new post...\" validate={[ required, maxLength10 ]}/>\r\n     <button>Add post</button>\r\n    </form>;\r\n};\r\n\r\nexport default reduxForm({ form: \"posts\" })(AddPostForm);\r\n","import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatusHooked = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const editModeDisable = (e) => {\r\n        if(props.isOwner)\r\n        setEditMode(false);\r\n        if(props.status !== e.target.value)\r\n        props.updateStatus(status);\r\n    };\r\n    const editModeEnable = () => {\r\n        if(props.isOwner)\r\n        setEditMode(true);\r\n    };\r\n    const changeStatusHandler = (e) => {\r\n        if(props.isOwner)\r\n        setStatus(e.target.value);\r\n    };\r\n\r\n    return <div>\r\n        \r\n        {editMode && \r\n        <div>\r\n            <b>Status: </b>\r\n            <input onBlur={editModeDisable} onChange={changeStatusHandler}\r\n            autoFocus={true} type=\"Status\" value={status}/>\r\n        </div>\r\n        }\r\n        {!editMode &&\r\n        <div>\r\n            <b>Status: </b>\r\n            <span onDoubleClick={editModeEnable}>{status}</span>\r\n        </div>\r\n        }\r\n    </div>;\r\n}\r\n\r\nexport default ProfileStatusHooked;","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { createField, Input, TextArea } from '../common/FormControls/FormControls';\r\nimport p from './Profile.module.css';\r\n\r\n\r\nconst ProfileDataForm = (props) => {\r\n\r\nreturn <div><form onSubmit={props.handleSubmit}>\r\n    <button>Save</button>\r\n<div>\r\n    { props.error && <div className={p.form + ' ' + p.error}>{props.error}</div>}\r\n</div>\r\n<div>\r\n    <b>Name: </b>\r\n    {createField(\"\", \"fullName\", [], Input, \"text\")}\r\n</div>\r\n<div>\r\n    <b>About me: </b>\r\n    {createField(\"\", \"aboutMe\", [], Input, \"text\")}\r\n</div>\r\n<div>\r\n    <div><b>Трудоустроен: </b>\r\n        {createField(\"\", \"lookingForAJob\", [], Input, \"checkbox\")}\r\n        <b>Описание работы:</b>\r\n        {createField(\"\", \"lookingForAJobDescription\", [], TextArea, \"\")}\r\n    </div>\r\n</div>\r\n<div>\r\n    <b>Контакты:</b>\r\n    <div>\r\n        <div className={p.contact}>\r\n            <b>facebook: </b>\r\n            {createField(\"\", \"contacts.facebook\", [], Input, \"text\")}\r\n        </div> \r\n        <div className={p.contact}>\r\n            <b>website: </b>\r\n            {createField(\"\", \"contacts.website\", [], Input, \"text\")}\r\n        </div>  \r\n        <div className={p.contact}>\r\n            <b>vk: </b>\r\n            {createField(\"\", \"contacts.vk\", [], Input, \"text\")}\r\n        </div>   \r\n        <div className={p.contact}>\r\n            <b>twitter: </b>\r\n            {createField(\"\", \"contacts.twitter\", [], Input, \"text\")}\r\n        </div>  \r\n        <div className={p.contact}>\r\n            <b>instagram: </b>\r\n            {createField(\"\", \"contacts.instagram\", [], Input, \"text\")}\r\n        </div>  \r\n        <div className={p.contact}>\r\n            <b>youtube: </b>\r\n            {createField(\"\", \"contacts.youtube\", [], Input, \"text\")}\r\n        </div>  \r\n        <div className={p.contact}>\r\n            <b>github: </b>\r\n            {createField(\"\", \"contacts.github\", [], Input, \"text\")}\r\n        </div>  \r\n        <div className={p.contact}>\r\n            <b>mainLink: </b>\r\n            {createField(\"\", \"contacts.mainLink\", [], Input, \"text\")}\r\n        </div>  \r\n    </div>\r\n</div>\r\n\r\n</form></div>\r\n};\r\n\r\n//Осталось разобраться с default для description и _subscribe_ для profile\r\nconst Wrapper = (props) => {\r\n    const ProfileDataReduxForm = reduxForm({form: \"profileData\", initialValues: {...props.profile}})(ProfileDataForm)\r\n    return <ProfileDataReduxForm {...props}/>\r\n}\r\n\r\nexport default Wrapper;","import React, { useState } from 'react';\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport p from './Profile.module.css';\r\nimport ProfileUser from './ProfileUser/ProfileUser';\r\nimport unknown from './../../assets/userUnknown.jpg';\r\nimport AddPostForm from './AddPostForm';\r\nimport ProfileStatusHooked from './ProfileStatusHooked';\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\nconst Contacts = (props) => {\r\n    return Object.keys(props.contacts).map(key => {\r\n        return <div className={p.contact} key={key}>\r\n            <b>{key}: </b>\r\n            <a href={\"http://\" + props.contacts[key]}>{props.contacts[key]}</a>\r\n        </div>\r\n    })\r\n};\r\n\r\nconst Profile = (props) => {\r\n    \r\n    const [editMode, setMode] = useState(false);\r\n\r\n    const onSubmitPosts = (data) => {\r\n        props.addPost(data.newPostDesc);\r\n    };\r\n    const onSubmit = (data) => {\r\n        console.log(data);\r\n\r\n        props.editProfile(data)\r\n        .then((res) => {\r\n            if(res)\r\n            setMode(true)\r\n            if(!res)\r\n            setMode(false)\r\n\r\n        })\r\n    };\r\n\r\n \r\n    return (\r\n        <div className={p.content}>\r\n            <ProfileUser\r\n                photo={props.profile.photos.large !== null ? props.profile.photos.large : unknown}\r\n                savePhoto={props.isOwner ? props.savePhoto : null}\r\n                updateStatus={props.isOwner ? props.updateStatus : null}\r\n                isOwner={props.isOwner} />\r\n\r\n            { !props.error && !editMode ? \r\n                <div>\r\n                    {props.isOwner && <div>\r\n                        <button onClick={() => { setMode(true) }}>Edit</button>\r\n                    </div>}\r\n\r\n                    <div>\r\n                        <b>Name: </b><span>{props.profile.fullName}</span>\r\n                    </div>\r\n                    <div>\r\n                        <b>About me: </b><span>{props.profile.aboutMe}</span>\r\n                    </div>\r\n                    <div>\r\n                        <div><b>Трудоустроен: </b>\r\n                            {\r\n                                props.profile.lookingForAJob\r\n                                    ?\r\n                                    <div>\r\n                                        <span>Да</span>\r\n                                        <div>\r\n                                            <b>Описание работы: </b>\r\n                                            <p>{props.profile.lookingForAJobDescription}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    :\r\n                                    <div>\r\n                                        <span>Нет</span>\r\n                                    </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <b>Контакты:</b>\r\n                        <div>\r\n                            <Contacts contacts={props.profile.contacts} />\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n                : <ProfileDataForm onSubmit={onSubmit} {...props} />\r\n            }\r\n            <ProfileStatusHooked status={props.status} isOwner={props.isOwner}\r\n                updateStatus={props.isOwner ? props.updateStatus : null} />\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport default Profile;\r\n\r\n\r\n\r\n// <div>\r\n//           {\r\n//             props.isOwner &&\r\n//             <div>\r\n//                 <AddPostForm onSubmit={onSubmit} />\r\n//                 <div>\r\n//                     <MyPosts posts={props.posts} />\r\n//                 </div>\r\n//             </div>\r\n//         }  \r\n//         </div>","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPost, getProfileData, getStatus, updateStatus, setUserProfile, savePhoto, editProfile } from '../../redux/profile-reducer';\r\nimport Profile from './Profile';\r\nimport { withRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport withAuthRedirect from '../hoc/withAuthComponent';\r\nimport { compose } from 'redux';\r\nimport PreLoader from '../common/Loader/PreLoader';\r\n\r\n\r\nclass ProfileContainer extends React.PureComponent {\r\n    componentDidMount() {\r\n        if (this.props.match.params.userId) {\r\n            let id = this.props.match.params.userId;\r\n            this.props.getProfileData(id);\r\n            this.props.getStatus(id)\r\n        } else {\r\n            this.props.getProfileData();\r\n            this.props.getStatus()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.profile !== null) {\r\n            if (prevProps.profile.userId !== this.props.authId && !this.props.match.params.userId) {\r\n                this.props.getProfileData();\r\n                this.props.getStatus()\r\n            }\r\n        }\r\n    }\r\n    // //Реализовал, но все таки как-то некрасиво\r\n\r\n\r\n    //В общем говоря, из фетчинг doesnt matter. Данные приходят, но медленно dispatching...\r\n    render() {\r\n        if (this.props.profile !== null) {\r\n            return <Profile {...this.props} isOwner={!this.props.match.params.userId} />;\r\n        } else {\r\n            return <PreLoader />\r\n        }\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        isFetching: state.profilePage.isFetching,\r\n        profile: state.profilePage.profile,\r\n        isAuth: state.auth.isAuth,\r\n        status: state.profilePage.status,\r\n        authId: state.auth.id,\r\n        error: state.profilePage.error\r\n    };\r\n};\r\n//Думаю сделать reset form для profile\r\n\r\n//Главная проблем ужасная реализация профайл компоненты, слишком много логики в презент комп\r\n//А также наш auth-хок работает для всех компонент, но не всем нужен withRouter!\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { addPost, getProfileData, getStatus, updateStatus, setUserProfile, savePhoto, editProfile }),\r\n    withAuthRedirect\r\n)(ProfileContainer);\r\n\r\n\r\n"],"sourceRoot":""}